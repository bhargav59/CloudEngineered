{% extends 'base.html' %}
{% load static %}

{% block title %}{{ site_name }} - Comprehensive Cloud Engineering Tool Reviews{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="bg-gradient-to-r from-blue-600 to-purple-700 text-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20">
        <div class="text-center">
            <h1 class="text-4xl md:text-6xl font-bold mb-6">
                Discover the Best <span class="text-yellow-300">Cloud Engineering</span> Tools
            </h1>
            <p class="text-xl md:text-2xl mb-8 text-blue-100 max-w-3xl mx-auto">
                Comprehensive reviews, comparisons, and insights for DevOps professionals and technical decision-makers.
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="{% url 'tools:category_list' %}" class="bg-yellow-400 text-gray-900 px-8 py-3 rounded-lg font-semibold hover:bg-yellow-300 transition-colors">
                    Explore Tools
                </a>
                <a href="{% url 'content:article_list' %}" class="border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition-colors">
                    Read Reviews
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Stats Section -->
<section class="bg-white py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
            <div>
                <div class="text-3xl font-bold text-blue-600">{{ stats.total_tools }}+</div>
                <div class="text-gray-600">Tools Reviewed</div>
            </div>
            <div>
                <div class="text-3xl font-bold text-green-600">{{ stats.total_articles }}+</div>
                <div class="text-gray-600">Articles Published</div>
            </div>
            <div>
                <div class="text-3xl font-bold text-purple-600">{{ stats.total_categories }}+</div>
                <div class="text-gray-600">Categories</div>
            </div>
            <div>
                <div class="text-3xl font-bold text-orange-600">50K+</div>
                <div class="text-gray-600">Monthly Readers</div>
            </div>
        </div>
    </div>
</section>

<!-- Featured Tools -->
<section class="bg-gray-50 py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-900 mb-4">Featured Tools</h2>
            <p class="text-lg text-gray-600">Trending cloud engineering and DevOps tools this month</p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            {% for tool in featured_tools %}
            <div class="bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow border">
                <div class="p-6">
                    <!-- Tool Header -->
                    <div class="flex items-center mb-4">
                        {% if tool.logo %}
                            <img src="{{ tool.logo.url }}" alt="{{ tool.name }}" class="w-12 h-12 rounded-lg mr-4">
                        {% else %}
                            <div class="w-12 h-12 bg-gray-200 rounded-lg mr-4 flex items-center justify-center">
                                <span class="text-gray-500 font-semibold">{{ tool.name|slice:":2"|upper }}</span>
                            </div>
                        {% endif %}
                        <div>
                            <h3 class="text-lg font-semibold text-gray-900">{{ tool.name }}</h3>
                            <span class="inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full">
                                {{ tool.category.name }}
                            </span>
                        </div>
                    </div>
                    
                    <!-- Tool Description -->
                    <p class="text-gray-600 mb-4">{{ tool.description|truncatewords:20 }}</p>
                    
                    <!-- Tool Stats -->
                    <div class="flex items-center justify-between text-sm text-gray-500 mb-4">
                        <span class="flex items-center">
                            <svg class="w-4 h-4 text-yellow-400 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
                            </svg>
                            {{ tool.github_stars|default:"N/A" }}
                        </span>
                        <span>{{ tool.pricing_model|capfirst }}</span>
                    </div>
                    
                    <!-- Action Button -->
                    <a href="{{ tool.get_absolute_url }}" class="block w-full text-center bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors">
                        View Details
                    </a>
                </div>
            </div>
            {% empty %}
            <div class="col-span-full text-center py-12">
                <p class="text-gray-500">No featured tools available at the moment.</p>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-12">
            <a href="{% url 'tools:category_list' %}" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-blue-600 bg-blue-100 hover:bg-blue-200 transition-colors">
                View All Tools
                <svg class="ml-2 -mr-1 w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                </svg>
            </a>
        </div>
    </div>
</section>

<!-- Popular Categories -->
<section class="bg-white py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-900 mb-4">Popular Categories</h2>
            <p class="text-lg text-gray-600">Explore tools by category</p>
        </div>
        
        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
            {% for category in popular_categories %}
            <a href="{{ category.get_absolute_url }}" class="group block p-6 bg-white border border-gray-200 rounded-lg hover:border-blue-300 hover:shadow-md transition-all">
                <div class="text-center">
                    {% if category.icon %}
                        <i class="{{ category.icon }} text-3xl mb-3" style="color: {{ category.color }}"></i>
                    {% else %}
                        <div class="w-12 h-12 mx-auto mb-3 rounded-lg flex items-center justify-center" style="background-color: {{ category.color }}20">
                            <span class="text-xl font-bold" style="color: {{ category.color }}">{{ category.name|slice:":2"|upper }}</span>
                        </div>
                    {% endif %}
                    <h3 class="font-semibold text-gray-900 group-hover:text-blue-600 transition-colors">{{ category.name }}</h3>
                    <p class="text-sm text-gray-500 mt-1">{{ category.tool_count }} tools</p>
                </div>
            </a>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Latest Articles -->
<section class="bg-gray-50 py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-900 mb-4">Latest Articles</h2>
            <p class="text-lg text-gray-600">Stay updated with the latest insights and reviews</p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
            {% for article in latest_articles %}
            <article class="bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden">
                {% if article.featured_image %}
                    <img src="{{ article.featured_image.url }}" alt="{{ article.title }}" class="w-full h-48 object-cover">
                {% else %}
                    <div class="w-full h-48 bg-gradient-to-br from-blue-400 to-purple-500"></div>
                {% endif %}
                
                <div class="p-6">
                    <div class="flex items-center text-sm text-gray-500 mb-2">
                        <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs">
                            {{ article.get_article_type_display }}
                        </span>
                        <span class="mx-2">â€¢</span>
                        <span>{{ article.reading_time }} min read</span>
                    </div>
                    
                    <h3 class="text-lg font-semibold text-gray-900 mb-2">
                        <a href="{{ article.get_absolute_url }}" class="hover:text-blue-600 transition-colors">
                            {{ article.title }}
                        </a>
                    </h3>
                    
                    <p class="text-gray-600 text-sm mb-4">{{ article.excerpt|truncatewords:15 }}</p>
                    
                    <div class="flex items-center justify-between text-sm text-gray-500">
                        <span>{{ article.get_author_name }}</span>
                        <span>{{ article.published_at|date:"M d" }}</span>
                    </div>
                </div>
            </article>
            {% empty %}
            <div class="col-span-full text-center py-12">
                <p class="text-gray-500">No articles available at the moment.</p>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-12">
            <a href="{% url 'content:article_list' %}" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-blue-600 bg-blue-100 hover:bg-blue-200 transition-colors">
                View All Articles
                <svg class="ml-2 -mr-1 w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                </svg>
            </a>
        </div>
    </div>
</section>

<!-- Newsletter Signup -->
<section class="bg-blue-600 text-white py-16">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h2 class="text-3xl font-bold mb-4">Stay Updated</h2>
        <p class="text-xl text-blue-100 mb-8">Get weekly insights on the latest cloud engineering tools and trends</p>
        
        <form action="{% url 'core:newsletter_subscribe' %}" method="POST" class="max-w-md mx-auto">
            {% csrf_token %}
            <div class="flex flex-col sm:flex-row gap-4">
                <input type="email" name="email" placeholder="Enter your email" required
                       class="flex-1 px-4 py-3 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                <button type="submit" class="bg-yellow-400 text-gray-900 px-6 py-3 rounded-lg font-semibold hover:bg-yellow-300 transition-colors">
                    Subscribe
                </button>
            </div>
            <p class="text-sm text-blue-100 mt-2">No spam. Unsubscribe anytime.</p>
        </form>
    </div>
</section>
{% endblock %}
